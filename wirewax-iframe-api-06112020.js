(function(){if(!window.wirewax){window.wirewax={}}window.wirewax.playerId="wirewax-player";window.wirewax.events={};window.wirewax.events.listeners={PLAYER_READY:"playerReady",HAS_PLAYED:"hasPlayed",HAS_PAUSED:"hasPaused",HAS_SEEKED:"hasSeeked",ADD_TO_CART:"addToCart",VIDEO_END:"videoEnd",VOLUME_CHANGE:"volumeChange",TAG_CLICK:"tagClick",RETURN_CURRENT_TIME:"returnCurrentTime",CLIENT_CUSTOM_EVENT:"clientCustomEvent",WIDGET_SHOWN:"widgetShown",WIDGET_CLOSED:"widgetClosed",RENDITION_CHANGED:"renditionChanged",SCORM_EVENT:"scormEvent"};window.wirewax.events.triggers={PLAY:"videoPlay",PAUSE:"videoPause",SEEK:"videoSeek",IS_PLAYER_READY:"isPlayerReady",GET_CURRENT_TIME:"getCurrentTime",GO_TO_TAG:"goToTag",OPEN_TAG:"openTag",CHANGE_VOLUME:"changeVolume",MUTE_VOLUME:"muteVolume",UNMUTE_VOLUME:"unMuteVolume",CLOSE_WIDGET:"closeWidget",DEVICE_ORIENTATION:"deviceOrientation",DEVICE_MOTION:"deviceMotion",DEVICE_SCREEN_ORIENTATION:"deviceScreenOrientation",CLIENT_CUSTOM_TRIGGER:"clientCustomTrigger",CHANGE_RENDITION:"changeRendition",ENTER_FULLSCREEN:"enterFullscreen"};window.wirewax.renditions={360:"360",540:"540",720:"720",1080:"1080","4k":"4k"};window.wirewax.debug=false;var t={};var e=0;function o(e,n){if(window.wirewax.debug){console.log(e,n)}}window.wirewax.addEventListener=function(e,n){if(!t[e]){t[e]=[]}var i=t[e].length;t[e].push(n);o("addEventListener",{name:e,callback:n});return function(){t[e].splice(i,1)}};window.wirewax.triggerEvent=function(e,n){try{var i=document.getElementById(window.wirewax.playerId).contentWindow}catch(w){console.error("Could not find the WIREWAX Iframe on this page with ID "+window.wirewax.playerId);return}if(n===undefined||n===null){i.postMessage(e,"*")}else{o("triggerEvent",{name:e,data:n});i.postMessage({name:e,data:n},"*")}};window.addEventListener("message",function(e){var n=e.data;if(typeof e.data=="string"){try{n=JSON.parse(e.data)}catch(r){if(n.indexOf("{")!=-1&&window.wirewax.debug){console.error("Error parsing JSON string",e.data)}}}for(var i in window.wirewax.events.listeners){var w=window.wirewax.events.listeners[i];if(n.name===w){if(t[w]){for(var a=0;a<t[w].length;a++){o("player triggered",n);t[w][a](e.data)}}}}},false);function n(){window.wirewax.addEventListener(window.wirewax.events.listeners.HAS_PLAYED,function(e){window.wirewax.triggerEvent(window.wirewax.events.triggers.DEVICE_SCREEN_ORIENTATION,window.orientation)});window.addEventListener("devicemotion",function(e){var n={accelerationIncludingGravity:{z:e.accelerationIncludingGravity.z}};window.wirewax.triggerEvent(window.wirewax.events.triggers.DEVICE_MOTION,n)},false);window.addEventListener("deviceorientation",function(e){var n={gamma:e.gamma,alpha:e.alpha,beta:e.beta,webkitCompassHeading:e.webkitCompassHeading};window.wirewax.triggerEvent(window.wirewax.events.triggers.DEVICE_ORIENTATION,n)},false);window.addEventListener("orientationchange",function(e){window.wirewax.triggerEvent(window.wirewax.events.triggers.DEVICE_SCREEN_ORIENTATION,window.orientation)},false);window.wirewax.gyroEnabled=true}if(window.wirewax.gyroEnabled){n()}else{window.wirewax.gyroEnabled=false}window.wirewax.enableGyro=function(){if(window.wirewax.gyroEnabled)return;n()}})();